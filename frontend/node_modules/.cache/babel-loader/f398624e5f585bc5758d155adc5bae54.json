{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect}from\"react\";import{LinkContainer}from\"react-router-bootstrap\";import{Table,Button,Row,Col}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import Message from\"../components/Message\";import Loader from\"../components/Loader\";import Paginate from\"../components/Paginate\";import{listProjects,deleteProject,createProject}from\"../actions/projectActions\";import{PROJECT_CREATE_RESET}from\"../constants/projectConstants\";import Header from\"../components/Header\";var ProjectListScreen=function ProjectListScreen(_ref){var history=_ref.history,match=_ref.match;var pageNumber=match.params.pageNumber||1;var dispatch=useDispatch();var projectList=useSelector(function(state){return state.projectList;});var loading=projectList.loading,error=projectList.error,projects=projectList.projects,page=projectList.page,pages=projectList.pages;var projectDelete=useSelector(function(state){return state.projectDelete;});var loadingDelete=projectDelete.loading,errorDelete=projectDelete.error,successDelete=projectDelete.success;var projectCreate=useSelector(function(state){return state.projectCreate;});var loadingCreate=projectCreate.loading,errorCreate=projectCreate.error,successCreate=projectCreate.success,createdProject=projectCreate.project;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){dispatch({type:PROJECT_CREATE_RESET});if(!userInfo||!userInfo.isAdmin){history.push(\"/login\");}if(successCreate){history.push(\"/admin/project/\".concat(createdProject._id,\"/edit\"));}else{dispatch(listProjects(\"\",pageNumber));}console.log(\"debug check project\",createdProject);},[dispatch,history,userInfo,successDelete,successCreate,createdProject,pageNumber]);var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure\")){dispatch(deleteProject(id));}};var createProjectHandler=function createProjectHandler(){dispatch(createProject());};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Projects\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",children:/*#__PURE__*/_jsxs(Button,{className:\"my-3\",onClick:createProjectHandler,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Create Project\"]})})]}),loadingDelete&&/*#__PURE__*/_jsx(Loader,{}),errorDelete&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorDelete}),loadingCreate&&/*#__PURE__*/_jsx(Loader,{}),errorCreate&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorCreate}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"HEADING\"}),/*#__PURE__*/_jsx(\"th\",{children:\"SHORT DESCRIPTION\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CLIENT\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:projects.map(function(project){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:project._id}),/*#__PURE__*/_jsx(\"td\",{children:project.hd}),/*#__PURE__*/_jsx(\"td\",{children:project.desc}),/*#__PURE__*/_jsx(\"td\",{children:project.client}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/project/\".concat(project._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm\",onClick:function onClick(){return deleteHandler(project._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},project._id);})})]}),/*#__PURE__*/_jsx(Paginate,{pages:pages,page:page,isProject:true})]})]});};export default ProjectListScreen;","map":{"version":3,"sources":["/Users/gabrielhauschildt/Desktop/ProshopDeployTest/frontend/src/screens/ProjectListScreen.js"],"names":["React","useEffect","LinkContainer","Table","Button","Row","Col","useDispatch","useSelector","Message","Loader","Paginate","listProjects","deleteProject","createProject","PROJECT_CREATE_RESET","Header","ProjectListScreen","history","match","pageNumber","params","dispatch","projectList","state","loading","error","projects","page","pages","projectDelete","loadingDelete","errorDelete","successDelete","success","projectCreate","loadingCreate","errorCreate","successCreate","createdProject","project","userLogin","userInfo","type","isAdmin","push","_id","console","log","deleteHandler","id","window","confirm","createProjectHandler","map","hd","desc","client"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\"\nimport { LinkContainer } from \"react-router-bootstrap\"\nimport { Table, Button, Row, Col } from \"react-bootstrap\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport Message from \"../components/Message\"\nimport Loader from \"../components/Loader\"\nimport Paginate from \"../components/Paginate\"\nimport {\n  listProjects,\n  deleteProject,\n  createProject\n} from \"../actions/projectActions\"\nimport { PROJECT_CREATE_RESET } from \"../constants/projectConstants\"\nimport Header from \"../components/Header\"\n\nconst ProjectListScreen = ({ history, match }) => {\n  const pageNumber = match.params.pageNumber || 1\n\n  const dispatch = useDispatch()\n\n  const projectList = useSelector(state => state.projectList)\n  const { loading, error, projects, page, pages } = projectList\n\n  const projectDelete = useSelector(state => state.projectDelete)\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete\n  } = projectDelete\n\n  const projectCreate = useSelector(state => state.projectCreate)\n  const {\n    loading: loadingCreate,\n    error: errorCreate,\n    success: successCreate,\n    project: createdProject\n  } = projectCreate\n\n  const userLogin = useSelector(state => state.userLogin)\n  const { userInfo } = userLogin\n\n  useEffect(() => {\n    dispatch({ type: PROJECT_CREATE_RESET })\n\n    if (!userInfo || !userInfo.isAdmin) {\n      history.push(\"/login\")\n    }\n\n    if (successCreate) {\n      history.push(`/admin/project/${createdProject._id}/edit`)\n    } else {\n      dispatch(listProjects(\"\", pageNumber))\n    }\n\n    console.log(\"debug check project\", createdProject)\n  }, [\n    dispatch,\n    history,\n    userInfo,\n    successDelete,\n    successCreate,\n    createdProject,\n    pageNumber\n  ])\n\n  const deleteHandler = id => {\n    if (window.confirm(\"Are you sure\")) {\n      dispatch(deleteProject(id))\n    }\n  }\n\n  const createProjectHandler = () => {\n    dispatch(createProject())\n  }\n\n  return (\n    <>\n      <Header />\n      <Row className='align-items-center'>\n        <Col>\n          <h1>Projects</h1>\n        </Col>\n        <Col className='text-right'>\n          <Button className='my-3' onClick={createProjectHandler}>\n            <i className='fas fa-plus'></i> Create Project\n          </Button>\n        </Col>\n      </Row>\n      {loadingDelete && <Loader />}\n      {errorDelete && <Message variant='danger'>{errorDelete}</Message>}\n      {loadingCreate && <Loader />}\n      {errorCreate && <Message variant='danger'>{errorCreate}</Message>}\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant='danger'>{error}</Message>\n      ) : (\n        <>\n          <Table striped bordered hover responsive className='table-sm'>\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>HEADING</th>\n                <th>SHORT DESCRIPTION</th>\n                <th>CLIENT</th>\n\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {projects.map(project => (\n                <tr key={project._id}>\n                  <td>{project._id}</td>\n                  <td>{project.hd}</td>\n                  <td>{project.desc}</td>\n                  <td>{project.client}</td>\n\n                  <td>\n                    <LinkContainer to={`/admin/project/${project._id}/edit`}>\n                      <Button variant='light' className='btn-sm'>\n                        <i className='fas fa-edit'></i>\n                      </Button>\n                    </LinkContainer>\n                    <Button\n                      variant='danger'\n                      className='btn-sm'\n                      onClick={() => deleteHandler(project._id)}\n                    >\n                      <i className='fas fa-trash'></i>\n                    </Button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n          <Paginate pages={pages} page={page} isProject={true} />\n        </>\n      )}\n    </>\n  )\n}\n\nexport default ProjectListScreen\n"]},"metadata":{},"sourceType":"module"}